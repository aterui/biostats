<!DOCTYPE html>
<html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Chapter 5 Data Manipulation | BIOSTATS</title>
<meta name="author" content="Akira Terui">
<meta name="description" content="R packages are collections of functions that extend the functionality of the R programming language. They provide a convenient way for users to access and utilize specialized tools for data...">
<meta name="generator" content="bookdown 0.40 with bs4_book()">
<meta property="og:title" content="Chapter 5 Data Manipulation | BIOSTATS">
<meta property="og:type" content="book">
<meta property="og:url" content="https://bookdown.org/janedoe/bookdown-demo/data-manipulation.html">
<meta property="og:description" content="R packages are collections of functions that extend the functionality of the R programming language. They provide a convenient way for users to access and utilize specialized tools for data...">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Chapter 5 Data Manipulation | BIOSTATS">
<meta name="twitter:description" content="R packages are collections of functions that extend the functionality of the R programming language. They provide a convenient way for users to access and utilize specialized tools for data...">
<!-- JS --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://kit.fontawesome.com/6ecbd6c532.js" crossorigin="anonymous"></script><script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="libs/bootstrap-4.6.0/bootstrap.min.css" rel="stylesheet">
<script src="libs/bootstrap-4.6.0/bootstrap.bundle.min.js"></script><script src="libs/bs3compat-0.8.0/transition.js"></script><script src="libs/bs3compat-0.8.0/tabs.js"></script><script src="libs/bs3compat-0.8.0/bs3compat.js"></script><link href="libs/bs4_book-1.0.0/bs4_book.css" rel="stylesheet">
<script src="libs/bs4_book-1.0.0/bs4_book.js"></script><script src="libs/kePrint-0.0.1/kePrint.js"></script><link href="libs/lightable-0.0.1/lightable.css" rel="stylesheet">
<!-- Google tag (gtag.js) --><script async src="https://www.googletagmanager.com/gtag/js?id=G-QZSNHVQQNV"></script><script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'G-QZSNHVQQNV');
    </script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- CSS --><style type="text/css">
    
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
  </style>
</head>
<body data-spy="scroll" data-target="#toc">

<div class="container-fluid">
<div class="row">
  <header class="col-sm-12 col-lg-3 sidebar sidebar-book"><a class="sr-only sr-only-focusable" href="#content">Skip to main content</a>

    <div class="d-flex align-items-start justify-content-between">
      <h1>
        <a href="index.html" title="">BIOSTATS</a>
      </h1>
      <button class="btn btn-outline-primary d-lg-none ml-2 mt-1" type="button" data-toggle="collapse" data-target="#main-nav" aria-expanded="true" aria-controls="main-nav"><i class="fas fa-bars"></i><span class="sr-only">Show table of contents</span></button>
    </div>

    <div id="main-nav" class="collapse-lg">
      <form role="search">
        <input id="search" class="form-control" type="search" placeholder="Search" aria-label="Search">
</form>

      <nav aria-label="Table of contents"><h2>Table of contents</h2>
        <ul class="book-toc list-unstyled">
<li><a class="" href="index.html">Introduction</a></li>
<li class="book-part">Getting Started</li>
<li><a class="" href="what-is-r-and-r-studio.html"><span class="header-section-number">1</span> What is R and R studio?</a></li>
<li><a class="" href="installing-r-and-rstudio.html"><span class="header-section-number">2</span> Installing R and RStudio</a></li>
<li><a class="" href="r-project.html"><span class="header-section-number">3</span> R Project</a></li>
<li class="book-part">R Basics</li>
<li><a class="" href="data-structure.html"><span class="header-section-number">4</span> Data Structure</a></li>
<li><a class="active" href="data-manipulation.html"><span class="header-section-number">5</span> Data Manipulation</a></li>
<li><a class="" href="visualization.html"><span class="header-section-number">6</span> Visualization</a></li>
<li class="book-part">Basic Statistics</li>
<li><a class="" href="descriptive-statistics.html"><span class="header-section-number">7</span> Descriptive Statistics</a></li>
<li><a class="" href="sampling.html"><span class="header-section-number">8</span> Sampling</a></li>
<li><a class="" href="probabilistic-view.html"><span class="header-section-number">9</span> Probabilistic View</a></li>
<li><a class="" href="two-group-comparison.html"><span class="header-section-number">10</span> Two-Group Comparison</a></li>
<li><a class="" href="multiple-group-comparison.html"><span class="header-section-number">11</span> Multiple-Group Comparison</a></li>
<li><a class="" href="regression.html"><span class="header-section-number">12</span> Regression</a></li>
<li><a class="" href="linear-model.html"><span class="header-section-number">13</span> Linear Model</a></li>
<li><a class="" href="generalized-linear-model.html"><span class="header-section-number">14</span> Generalized Linear Model</a></li>
<li><a class="" href="likelihood.html"><span class="header-section-number">15</span> Likelihood</a></li>
<li><a class="" href="model-comparison.html"><span class="header-section-number">16</span> Model Comparison</a></li>
<li class="book-part">Appendix</li>
<li><a class="" href="git-github.html">Git &amp; GitHub</a></li>
<li><a class="" href="base-plot.html">Base Plot</a></li>
</ul>

        <div class="book-extra">
          <p><a id="book-repo" href="https://github.com/aterui/biostats">View book source <i class="fab fa-github"></i></a></p>
        </div>
      </nav>
</div>
  </header><main class="col-sm-12 col-md-9 col-lg-7" id="content"><div id="data-manipulation" class="section level1" number="5">
<h1>
<span class="header-section-number">5</span> Data Manipulation<a class="anchor" aria-label="anchor" href="#data-manipulation"><i class="fas fa-link"></i></a>
</h1>
<p>R packages are collections of functions that extend the functionality of the R programming language. They provide a convenient way for users to access and utilize specialized tools for data analysis, visualization, statistical modeling, and more. Among them, <code>tidyverse</code> provides very useful functions for data manipulation and visualization.</p>
<p><code>tidyverse::</code> bundles R packages designed to make data manipulation, exploration, and visualization more efficient and intuitive. Developed by Hadley Wickham and other contributors, the Tidyverse packages share a common philosophy and syntax, emphasizing a consistent and tidy data format. The core packages, such as <code>dplyr::</code>, <code>tidyr::</code>, and <code>ggplot2::</code>, provide powerful tools for data wrangling, reshaping, and creating visualizations.</p>
<p>In this Chapter, we will use <code>iris</code> data, which is available by default in R. While the default data structure <code>iris</code> is prepared in <code><a href="https://rdrr.io/r/base/data.frame.html">data.frame()</a></code>, I convert this data format to <code><a href="https://tibble.tidyverse.org/reference/tibble.html">tibble()</a></code> in this exercise. Copy and run the code below. We will use <code>iris_sub</code> in the following demonstration.</p>
<div class="sourceCode" id="cb113"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://tidyverse.tidyverse.org">tidyverse</a></span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/Random.html">set.seed</a></span><span class="op">(</span><span class="fl">123</span><span class="op">)</span></span>
<span></span>
<span><span class="va">iris_sub</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://tibble.tidyverse.org/reference/as_tibble.html">as_tibble</a></span><span class="op">(</span><span class="va">iris</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html">group_by</a></span><span class="op">(</span><span class="va">Species</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/sample_n.html">sample_n</a></span><span class="op">(</span><span class="fl">3</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html">ungroup</a></span><span class="op">(</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html">print</a></span><span class="op">(</span><span class="va">iris_sub</span><span class="op">)</span></span></code></pre></div>
<pre><code>## # A tibble: 9 × 5
##   Sepal.Length Sepal.Width Petal.Length Petal.Width Species   
##          &lt;dbl&gt;       &lt;dbl&gt;        &lt;dbl&gt;       &lt;dbl&gt; &lt;fct&gt;     
## 1          4.8         3.1          1.6         0.2 setosa    
## 2          5.8         4            1.2         0.2 setosa    
## 3          4.3         3            1.1         0.1 setosa    
## 4          6.9         3.1          4.9         1.5 versicolor
## 5          6.1         3            4.6         1.4 versicolor
## 6          5.8         2.6          4           1.2 versicolor
## 7          6.3         3.4          5.6         2.4 virginica 
## 8          5.7         2.5          5           2   virginica 
## 9          6.7         3.3          5.7         2.1 virginica</code></pre>
<hr>
<p>I only cover the basics for those who are not familiar with <code>tidyverse::</code>, but there is plenty of documentation available for the tidyverse package.</p>
<ul>
<li><a href="https://www.tidyverse.org/">Tidyverse website</a></li>
<li><a href="https://dplyr.tidyverse.org/">dplyr</a></li>
<li><a href="https://tidyr.tidyverse.org/">tidyr</a></li>
</ul>
<p><code>dplyr::</code> and <code>tidyr::</code> (and others) offer useful functions for data manipulation. Key manipulations include: row/column manipulations, group operation, reshape, and more.</p>
<hr>
<div id="row-manipulation" class="section level2" number="5.1">
<h2>
<span class="header-section-number">5.1</span> Row Manipulation<a class="anchor" aria-label="anchor" href="#row-manipulation"><i class="fas fa-link"></i></a>
</h2>
<div id="subset-rows" class="section level3" number="5.1.1">
<h3>
<span class="header-section-number">5.1.1</span> Subset rows<a class="anchor" aria-label="anchor" href="#subset-rows"><i class="fas fa-link"></i></a>
</h3>
<p>The <code><a href="https://dplyr.tidyverse.org/reference/filter.html">filter()</a></code> function (<code>dplyr</code> package) is used for subsetting rows of a data frame (or tibble) based on conditions.</p>
<p><strong>Single match <code>==</code></strong></p>
<div class="sourceCode" id="cb115"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html">filter</a></span><span class="op">(</span><span class="va">iris_sub</span>, <span class="va">Species</span> <span class="op">==</span> <span class="st">"virginica"</span><span class="op">)</span></span></code></pre></div>
<pre><code>## # A tibble: 3 × 5
##   Sepal.Length Sepal.Width Petal.Length Petal.Width Species  
##          &lt;dbl&gt;       &lt;dbl&gt;        &lt;dbl&gt;       &lt;dbl&gt; &lt;fct&gt;    
## 1          6.3         3.4          5.6         2.4 virginica
## 2          5.7         2.5          5           2   virginica
## 3          6.7         3.3          5.7         2.1 virginica</code></pre>
<p><strong>Multiple match <code>%in%</code></strong></p>
<div class="sourceCode" id="cb117"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html">filter</a></span><span class="op">(</span><span class="va">iris_sub</span>, <span class="va">Species</span> <span class="op"><a href="https://rdrr.io/r/base/match.html">%in%</a></span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"virginica"</span>, <span class="st">"versicolor"</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<pre><code>## # A tibble: 6 × 5
##   Sepal.Length Sepal.Width Petal.Length Petal.Width Species   
##          &lt;dbl&gt;       &lt;dbl&gt;        &lt;dbl&gt;       &lt;dbl&gt; &lt;fct&gt;     
## 1          6.9         3.1          4.9         1.5 versicolor
## 2          6.1         3            4.6         1.4 versicolor
## 3          5.8         2.6          4           1.2 versicolor
## 4          6.3         3.4          5.6         2.4 virginica 
## 5          5.7         2.5          5           2   virginica 
## 6          6.7         3.3          5.7         2.1 virginica</code></pre>
<p><strong>Except <code>!=</code></strong></p>
<div class="sourceCode" id="cb119"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html">filter</a></span><span class="op">(</span><span class="va">iris_sub</span>, <span class="va">Species</span> <span class="op">!=</span> <span class="st">"virginica"</span><span class="op">)</span></span></code></pre></div>
<pre><code>## # A tibble: 6 × 5
##   Sepal.Length Sepal.Width Petal.Length Petal.Width Species   
##          &lt;dbl&gt;       &lt;dbl&gt;        &lt;dbl&gt;       &lt;dbl&gt; &lt;fct&gt;     
## 1          4.8         3.1          1.6         0.2 setosa    
## 2          5.8         4            1.2         0.2 setosa    
## 3          4.3         3            1.1         0.1 setosa    
## 4          6.9         3.1          4.9         1.5 versicolor
## 5          6.1         3            4.6         1.4 versicolor
## 6          5.8         2.6          4           1.2 versicolor</code></pre>
<p><strong>Except multiple <code>!=</code></strong></p>
<div class="sourceCode" id="cb121"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html">filter</a></span><span class="op">(</span><span class="va">iris_sub</span>, <span class="op">!</span><span class="op">(</span><span class="va">Species</span> <span class="op"><a href="https://rdrr.io/r/base/match.html">%in%</a></span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"virginica"</span>, <span class="st">"versicolor"</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<pre><code>## # A tibble: 3 × 5
##   Sepal.Length Sepal.Width Petal.Length Petal.Width Species
##          &lt;dbl&gt;       &lt;dbl&gt;        &lt;dbl&gt;       &lt;dbl&gt; &lt;fct&gt;  
## 1          4.8         3.1          1.6         0.2 setosa 
## 2          5.8         4            1.2         0.2 setosa 
## 3          4.3         3            1.1         0.1 setosa</code></pre>
<p><strong>Greater than <code>&gt;</code></strong></p>
<div class="sourceCode" id="cb123"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html">filter</a></span><span class="op">(</span><span class="va">iris_sub</span>, <span class="va">Sepal.Length</span> <span class="op">&gt;</span> <span class="fl">5</span><span class="op">)</span></span></code></pre></div>
<pre><code>## # A tibble: 7 × 5
##   Sepal.Length Sepal.Width Petal.Length Petal.Width Species   
##          &lt;dbl&gt;       &lt;dbl&gt;        &lt;dbl&gt;       &lt;dbl&gt; &lt;fct&gt;     
## 1          5.8         4            1.2         0.2 setosa    
## 2          6.9         3.1          4.9         1.5 versicolor
## 3          6.1         3            4.6         1.4 versicolor
## 4          5.8         2.6          4           1.2 versicolor
## 5          6.3         3.4          5.6         2.4 virginica 
## 6          5.7         2.5          5           2   virginica 
## 7          6.7         3.3          5.7         2.1 virginica</code></pre>
<p><strong>Greater than and equal to <code>&gt;=</code></strong></p>
<div class="sourceCode" id="cb125"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html">filter</a></span><span class="op">(</span><span class="va">iris_sub</span>, <span class="va">Sepal.Length</span> <span class="op">&gt;=</span> <span class="fl">5</span><span class="op">)</span></span></code></pre></div>
<pre><code>## # A tibble: 7 × 5
##   Sepal.Length Sepal.Width Petal.Length Petal.Width Species   
##          &lt;dbl&gt;       &lt;dbl&gt;        &lt;dbl&gt;       &lt;dbl&gt; &lt;fct&gt;     
## 1          5.8         4            1.2         0.2 setosa    
## 2          6.9         3.1          4.9         1.5 versicolor
## 3          6.1         3            4.6         1.4 versicolor
## 4          5.8         2.6          4           1.2 versicolor
## 5          6.3         3.4          5.6         2.4 virginica 
## 6          5.7         2.5          5           2   virginica 
## 7          6.7         3.3          5.7         2.1 virginica</code></pre>
<p><strong>Less than <code>&lt;</code></strong></p>
<div class="sourceCode" id="cb127"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html">filter</a></span><span class="op">(</span><span class="va">iris_sub</span>, <span class="va">Sepal.Length</span> <span class="op">&lt;</span> <span class="fl">5</span><span class="op">)</span></span></code></pre></div>
<pre><code>## # A tibble: 2 × 5
##   Sepal.Length Sepal.Width Petal.Length Petal.Width Species
##          &lt;dbl&gt;       &lt;dbl&gt;        &lt;dbl&gt;       &lt;dbl&gt; &lt;fct&gt;  
## 1          4.8         3.1          1.6         0.2 setosa 
## 2          4.3         3            1.1         0.1 setosa</code></pre>
<p><strong>Less than and equal to <code>&lt;=</code></strong></p>
<div class="sourceCode" id="cb129"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html">filter</a></span><span class="op">(</span><span class="va">iris_sub</span>, <span class="va">Sepal.Length</span> <span class="op">&lt;=</span> <span class="fl">5</span><span class="op">)</span></span></code></pre></div>
<pre><code>## # A tibble: 2 × 5
##   Sepal.Length Sepal.Width Petal.Length Petal.Width Species
##          &lt;dbl&gt;       &lt;dbl&gt;        &lt;dbl&gt;       &lt;dbl&gt; &lt;fct&gt;  
## 1          4.8         3.1          1.6         0.2 setosa 
## 2          4.3         3            1.1         0.1 setosa</code></pre>
<p><strong>Multiple conditions (AND) <code>&amp;</code></strong> <strong>(or <code>,</code>)</strong></p>
<div class="sourceCode" id="cb131"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Sepal.Length is less than 5 AND Species equals "setosa"</span></span>
<span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html">filter</a></span><span class="op">(</span><span class="va">iris_sub</span>,</span>
<span>       <span class="va">Sepal.Length</span> <span class="op">&lt;</span> <span class="fl">5</span> <span class="op">&amp;</span> <span class="va">Species</span> <span class="op">==</span> <span class="st">"setosa"</span><span class="op">)</span></span></code></pre></div>
<pre><code>## # A tibble: 2 × 5
##   Sepal.Length Sepal.Width Petal.Length Petal.Width Species
##          &lt;dbl&gt;       &lt;dbl&gt;        &lt;dbl&gt;       &lt;dbl&gt; &lt;fct&gt;  
## 1          4.8         3.1          1.6         0.2 setosa 
## 2          4.3         3            1.1         0.1 setosa</code></pre>
<div class="sourceCode" id="cb133"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># same; "," works like "&amp;"</span></span>
<span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html">filter</a></span><span class="op">(</span><span class="va">iris_sub</span>,</span>
<span>       <span class="va">Sepal.Length</span> <span class="op">&lt;</span> <span class="fl">5</span>, <span class="va">Species</span> <span class="op">==</span> <span class="st">"setosa"</span><span class="op">)</span></span></code></pre></div>
<pre><code>## # A tibble: 2 × 5
##   Sepal.Length Sepal.Width Petal.Length Petal.Width Species
##          &lt;dbl&gt;       &lt;dbl&gt;        &lt;dbl&gt;       &lt;dbl&gt; &lt;fct&gt;  
## 1          4.8         3.1          1.6         0.2 setosa 
## 2          4.3         3            1.1         0.1 setosa</code></pre>
<p><strong>Multiple conditions (OR) <code>|</code></strong></p>
<div class="sourceCode" id="cb135"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Either Sepal.Length is less than 5 OR Species equals "setosa"</span></span>
<span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html">filter</a></span><span class="op">(</span><span class="va">iris_sub</span>,</span>
<span>       <span class="va">Sepal.Length</span> <span class="op">&lt;</span> <span class="fl">5</span> <span class="op">|</span> <span class="va">Species</span> <span class="op">==</span> <span class="st">"setosa"</span><span class="op">)</span></span></code></pre></div>
<pre><code>## # A tibble: 3 × 5
##   Sepal.Length Sepal.Width Petal.Length Petal.Width Species
##          &lt;dbl&gt;       &lt;dbl&gt;        &lt;dbl&gt;       &lt;dbl&gt; &lt;fct&gt;  
## 1          4.8         3.1          1.6         0.2 setosa 
## 2          5.8         4            1.2         0.2 setosa 
## 3          4.3         3            1.1         0.1 setosa</code></pre>
</div>
<div id="arrange-rows" class="section level3" number="5.1.2">
<h3>
<span class="header-section-number">5.1.2</span> Arrange rows<a class="anchor" aria-label="anchor" href="#arrange-rows"><i class="fas fa-link"></i></a>
</h3>
<p>The <code><a href="https://dplyr.tidyverse.org/reference/arrange.html">arrange()</a></code> function (package <code>dplyr</code>) is used to reorder rows of a data frame (or tibble) based on the values in one or more columns.</p>
<p><strong>Increasing/ascending order</strong></p>
<div class="sourceCode" id="cb137"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/arrange.html">arrange</a></span><span class="op">(</span><span class="va">iris_sub</span>, <span class="va">Sepal.Length</span><span class="op">)</span></span></code></pre></div>
<pre><code>## # A tibble: 9 × 5
##   Sepal.Length Sepal.Width Petal.Length Petal.Width Species   
##          &lt;dbl&gt;       &lt;dbl&gt;        &lt;dbl&gt;       &lt;dbl&gt; &lt;fct&gt;     
## 1          4.3         3            1.1         0.1 setosa    
## 2          4.8         3.1          1.6         0.2 setosa    
## 3          5.7         2.5          5           2   virginica 
## 4          5.8         4            1.2         0.2 setosa    
## 5          5.8         2.6          4           1.2 versicolor
## 6          6.1         3            4.6         1.4 versicolor
## 7          6.3         3.4          5.6         2.4 virginica 
## 8          6.7         3.3          5.7         2.1 virginica 
## 9          6.9         3.1          4.9         1.5 versicolor</code></pre>
<p><strong>Decreasing/descending order</strong></p>
<div class="sourceCode" id="cb139"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/arrange.html">arrange</a></span><span class="op">(</span><span class="va">iris_sub</span>, <span class="fu"><a href="https://dplyr.tidyverse.org/reference/desc.html">desc</a></span><span class="op">(</span><span class="va">Sepal.Length</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<pre><code>## # A tibble: 9 × 5
##   Sepal.Length Sepal.Width Petal.Length Petal.Width Species   
##          &lt;dbl&gt;       &lt;dbl&gt;        &lt;dbl&gt;       &lt;dbl&gt; &lt;fct&gt;     
## 1          6.9         3.1          4.9         1.5 versicolor
## 2          6.7         3.3          5.7         2.1 virginica 
## 3          6.3         3.4          5.6         2.4 virginica 
## 4          6.1         3            4.6         1.4 versicolor
## 5          5.8         4            1.2         0.2 setosa    
## 6          5.8         2.6          4           1.2 versicolor
## 7          5.7         2.5          5           2   virginica 
## 8          4.8         3.1          1.6         0.2 setosa    
## 9          4.3         3            1.1         0.1 setosa</code></pre>
</div>
<div id="exercise-3" class="section level3" number="5.1.3">
<h3>
<span class="header-section-number">5.1.3</span> Exercise<a class="anchor" aria-label="anchor" href="#exercise-3"><i class="fas fa-link"></i></a>
</h3>
<p>Using <code>iris_sub</code> dataframe, select rows that match the following contidions</p>
<ol style="list-style-type: decimal">
<li><p><code>Sepal.Width</code> is greater than <code>3.0</code> and assign the new dataframe to <code>iris_3</code></p></li>
<li><p><code>Species</code> is <code>"setosa"</code> and assign the new dataframe to <code>iris_setosa</code></p></li>
<li><p><code>Sepal.Width</code> is greater than <code>3.0</code> AND <code>Species</code> is <code>"setosa"</code>, and assign the new dataframe to <code>iris_3_setosa</code></p></li>
</ol>
</div>
</div>
<div id="column-manipulation" class="section level2" number="5.2">
<h2>
<span class="header-section-number">5.2</span> Column Manipulation<a class="anchor" aria-label="anchor" href="#column-manipulation"><i class="fas fa-link"></i></a>
</h2>
<div id="select-columns" class="section level3" number="5.2.1">
<h3>
<span class="header-section-number">5.2.1</span> Select columns<a class="anchor" aria-label="anchor" href="#select-columns"><i class="fas fa-link"></i></a>
</h3>
<p>The <code><a href="https://dplyr.tidyverse.org/reference/select.html">select()</a></code> function (package <code>dplyr</code>) is used to choose specific columns from a data frame or tibble. It is particularly useful for narrowing down a dataset to focus on relevant variables.</p>
<p><strong>Select one column</strong></p>
<div class="sourceCode" id="cb141"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html">select</a></span><span class="op">(</span><span class="va">iris_sub</span>, <span class="va">Sepal.Length</span><span class="op">)</span></span></code></pre></div>
<pre><code>## # A tibble: 9 × 1
##   Sepal.Length
##          &lt;dbl&gt;
## 1          4.8
## 2          5.8
## 3          4.3
## 4          6.9
## 5          6.1
## 6          5.8
## 7          6.3
## 8          5.7
## 9          6.7</code></pre>
<p><strong>Select multiple columns</strong></p>
<div class="sourceCode" id="cb143"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html">select</a></span><span class="op">(</span><span class="va">iris_sub</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="va">Sepal.Length</span>, <span class="va">Sepal.Width</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<pre><code>## # A tibble: 9 × 2
##   Sepal.Length Sepal.Width
##          &lt;dbl&gt;       &lt;dbl&gt;
## 1          4.8         3.1
## 2          5.8         4  
## 3          4.3         3  
## 4          6.9         3.1
## 5          6.1         3  
## 6          5.8         2.6
## 7          6.3         3.4
## 8          5.7         2.5
## 9          6.7         3.3</code></pre>
<p><strong>Remove one column</strong></p>
<div class="sourceCode" id="cb145"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html">select</a></span><span class="op">(</span><span class="va">iris_sub</span>, <span class="op">-</span><span class="va">Sepal.Length</span><span class="op">)</span></span></code></pre></div>
<pre><code>## # A tibble: 9 × 4
##   Sepal.Width Petal.Length Petal.Width Species   
##         &lt;dbl&gt;        &lt;dbl&gt;       &lt;dbl&gt; &lt;fct&gt;     
## 1         3.1          1.6         0.2 setosa    
## 2         4            1.2         0.2 setosa    
## 3         3            1.1         0.1 setosa    
## 4         3.1          4.9         1.5 versicolor
## 5         3            4.6         1.4 versicolor
## 6         2.6          4           1.2 versicolor
## 7         3.4          5.6         2.4 virginica 
## 8         2.5          5           2   virginica 
## 9         3.3          5.7         2.1 virginica</code></pre>
<p><strong>Remove multiple columns</strong></p>
<div class="sourceCode" id="cb147"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html">select</a></span><span class="op">(</span><span class="va">iris_sub</span>, <span class="op">-</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="va">Sepal.Length</span>, <span class="va">Sepal.Width</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<pre><code>## # A tibble: 9 × 3
##   Petal.Length Petal.Width Species   
##          &lt;dbl&gt;       &lt;dbl&gt; &lt;fct&gt;     
## 1          1.6         0.2 setosa    
## 2          1.2         0.2 setosa    
## 3          1.1         0.1 setosa    
## 4          4.9         1.5 versicolor
## 5          4.6         1.4 versicolor
## 6          4           1.2 versicolor
## 7          5.6         2.4 virginica 
## 8          5           2   virginica 
## 9          5.7         2.1 virginica</code></pre>
<p><strong>Select/Remove with <code><a href="https://tidyselect.r-lib.org/reference/starts_with.html">starts_with()</a></code></strong></p>
<div class="sourceCode" id="cb149"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># select columns starting with "Sepal"</span></span>
<span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html">select</a></span><span class="op">(</span><span class="va">iris_sub</span>, <span class="fu"><a href="https://tidyselect.r-lib.org/reference/starts_with.html">starts_with</a></span><span class="op">(</span><span class="st">"Sepal"</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<pre><code>## # A tibble: 9 × 2
##   Sepal.Length Sepal.Width
##          &lt;dbl&gt;       &lt;dbl&gt;
## 1          4.8         3.1
## 2          5.8         4  
## 3          4.3         3  
## 4          6.9         3.1
## 5          6.1         3  
## 6          5.8         2.6
## 7          6.3         3.4
## 8          5.7         2.5
## 9          6.7         3.3</code></pre>
<div class="sourceCode" id="cb151"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># remove columns starting with "Sepal"</span></span>
<span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html">select</a></span><span class="op">(</span><span class="va">iris_sub</span>, <span class="op">-</span><span class="fu"><a href="https://tidyselect.r-lib.org/reference/starts_with.html">starts_with</a></span><span class="op">(</span><span class="st">"Sepal"</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<pre><code>## # A tibble: 9 × 3
##   Petal.Length Petal.Width Species   
##          &lt;dbl&gt;       &lt;dbl&gt; &lt;fct&gt;     
## 1          1.6         0.2 setosa    
## 2          1.2         0.2 setosa    
## 3          1.1         0.1 setosa    
## 4          4.9         1.5 versicolor
## 5          4.6         1.4 versicolor
## 6          4           1.2 versicolor
## 7          5.6         2.4 virginica 
## 8          5           2   virginica 
## 9          5.7         2.1 virginica</code></pre>
<p><strong>Select with <code><a href="https://tidyselect.r-lib.org/reference/starts_with.html">ends_with()</a></code></strong></p>
<div class="sourceCode" id="cb153"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># select columns ending with "Sepal"</span></span>
<span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html">select</a></span><span class="op">(</span><span class="va">iris_sub</span>, <span class="fu"><a href="https://tidyselect.r-lib.org/reference/starts_with.html">ends_with</a></span><span class="op">(</span><span class="st">"Width"</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<pre><code>## # A tibble: 9 × 2
##   Sepal.Width Petal.Width
##         &lt;dbl&gt;       &lt;dbl&gt;
## 1         3.1         0.2
## 2         4           0.2
## 3         3           0.1
## 4         3.1         1.5
## 5         3           1.4
## 6         2.6         1.2
## 7         3.4         2.4
## 8         2.5         2  
## 9         3.3         2.1</code></pre>
<div class="sourceCode" id="cb155"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># remove columns ending with "Sepal"</span></span>
<span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html">select</a></span><span class="op">(</span><span class="va">iris_sub</span>, <span class="op">-</span><span class="fu"><a href="https://tidyselect.r-lib.org/reference/starts_with.html">ends_with</a></span><span class="op">(</span><span class="st">"Width"</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<pre><code>## # A tibble: 9 × 3
##   Sepal.Length Petal.Length Species   
##          &lt;dbl&gt;        &lt;dbl&gt; &lt;fct&gt;     
## 1          4.8          1.6 setosa    
## 2          5.8          1.2 setosa    
## 3          4.3          1.1 setosa    
## 4          6.9          4.9 versicolor
## 5          6.1          4.6 versicolor
## 6          5.8          4   versicolor
## 7          6.3          5.6 virginica 
## 8          5.7          5   virginica 
## 9          6.7          5.7 virginica</code></pre>
</div>
<div id="add-columns" class="section level3" number="5.2.2">
<h3>
<span class="header-section-number">5.2.2</span> Add columns<a class="anchor" aria-label="anchor" href="#add-columns"><i class="fas fa-link"></i></a>
</h3>
<p>The <code><a href="https://dplyr.tidyverse.org/reference/mutate.html">mutate()</a></code> function (package <code>dplyr</code>) package and is used to add new variables or modify existing ones in a data frame or tibble. It allows you to apply transformations to columns without changing the original dataset.</p>
<p><strong>Add a new column</strong></p>
<div class="sourceCode" id="cb157"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># nrow() returns the number of rows of the dataframe</span></span>
<span><span class="op">(</span><span class="va">x_max</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/nrow.html">nrow</a></span><span class="op">(</span><span class="va">iris_sub</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<pre><code>## [1] 9</code></pre>
<div class="sourceCode" id="cb159"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># create a vector from 1 to x_max</span></span>
<span><span class="va">x</span> <span class="op">&lt;-</span> <span class="fl">1</span><span class="op">:</span><span class="va">x_max</span></span>
<span></span>
<span><span class="co"># add as a new column</span></span>
<span><span class="co"># named `x` as `row_id` when added</span></span>
<span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html">mutate</a></span><span class="op">(</span><span class="va">iris_sub</span>, row_id <span class="op">=</span> <span class="va">x</span><span class="op">)</span></span></code></pre></div>
<pre><code>## # A tibble: 9 × 6
##   Sepal.Length Sepal.Width Petal.Length Petal.Width Species    row_id
##          &lt;dbl&gt;       &lt;dbl&gt;        &lt;dbl&gt;       &lt;dbl&gt; &lt;fct&gt;       &lt;int&gt;
## 1          4.8         3.1          1.6         0.2 setosa          1
## 2          5.8         4            1.2         0.2 setosa          2
## 3          4.3         3            1.1         0.1 setosa          3
## 4          6.9         3.1          4.9         1.5 versicolor      4
## 5          6.1         3            4.6         1.4 versicolor      5
## 6          5.8         2.6          4           1.2 versicolor      6
## 7          6.3         3.4          5.6         2.4 virginica       7
## 8          5.7         2.5          5           2   virginica       8
## 9          6.7         3.3          5.7         2.1 virginica       9</code></pre>
<p><strong>Modify an existing column</strong></p>
<div class="sourceCode" id="cb161"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># twice `Sepal.Length` and add as a new column</span></span>
<span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html">mutate</a></span><span class="op">(</span><span class="va">iris_sub</span>, sl_two_times <span class="op">=</span> <span class="fl">2</span> <span class="op">*</span> <span class="va">Sepal.Length</span><span class="op">)</span></span></code></pre></div>
<pre><code>## # A tibble: 9 × 6
##   Sepal.Length Sepal.Width Petal.Length Petal.Width Species    sl_two_times
##          &lt;dbl&gt;       &lt;dbl&gt;        &lt;dbl&gt;       &lt;dbl&gt; &lt;fct&gt;             &lt;dbl&gt;
## 1          4.8         3.1          1.6         0.2 setosa              9.6
## 2          5.8         4            1.2         0.2 setosa             11.6
## 3          4.3         3            1.1         0.1 setosa              8.6
## 4          6.9         3.1          4.9         1.5 versicolor         13.8
## 5          6.1         3            4.6         1.4 versicolor         12.2
## 6          5.8         2.6          4           1.2 versicolor         11.6
## 7          6.3         3.4          5.6         2.4 virginica          12.6
## 8          5.7         2.5          5           2   virginica          11.4
## 9          6.7         3.3          5.7         2.1 virginica          13.4</code></pre>
</div>
<div id="exercise-4" class="section level3" number="5.2.3">
<h3>
<span class="header-section-number">5.2.3</span> Exercise<a class="anchor" aria-label="anchor" href="#exercise-4"><i class="fas fa-link"></i></a>
</h3>
<p>Using <code>iris_sub</code> dataframe, select columns that match the following contidions</p>
<ol style="list-style-type: decimal">
<li><p>Select column <code>Petal.Width</code> and <code>Species</code> and assign the new dataframe to <code>iris_pw</code></p></li>
<li><p>Select columns starting with text <code>"Petal"</code> and assign the new dataframe to <code>iris_petal</code></p></li>
<li><p>Add new column <code>pw_two_times</code> by doubling values in column <code>Petal.Width</code>, and assign the new dataframe to <code>iris_pw_two</code></p></li>
</ol>
</div>
</div>
<div id="piping" class="section level2" number="5.3">
<h2>
<span class="header-section-number">5.3</span> Piping<a class="anchor" aria-label="anchor" href="#piping"><i class="fas fa-link"></i></a>
</h2>
<div id="pipe" class="section level3" number="5.3.1">
<h3>
<span class="header-section-number">5.3.1</span> Pipe <code>%&gt;%</code><a class="anchor" aria-label="anchor" href="#pipe"><i class="fas fa-link"></i></a>
</h3>
<p><code>%&gt;%</code> (pipe) allows sequential operations of multiple functions (hot key: <code>Ctr + Shift + M</code>). The pipe passes the object to the following function as the first argument. For example, the following code subset rows by <code>Species</code> column, then select column <code>Sepal.Length</code>.</p>
<div class="sourceCode" id="cb163"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">## </span></span>
<span><span class="va">df_vir</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html">filter</a></span><span class="op">(</span><span class="va">iris_sub</span>, <span class="va">Species</span> <span class="op">==</span> <span class="st">"virginica"</span><span class="op">)</span></span>
<span><span class="va">df_vir_sl</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html">select</a></span><span class="op">(</span><span class="va">df_vir</span>, <span class="va">Sepal.Length</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html">print</a></span><span class="op">(</span><span class="va">df_vir_sl</span><span class="op">)</span></span></code></pre></div>
<pre><code>## # A tibble: 3 × 1
##   Sepal.Length
##          &lt;dbl&gt;
## 1          6.3
## 2          5.7
## 3          6.7</code></pre>
<p>With piping, the above example becomes:</p>
<div class="sourceCode" id="cb165"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">df_vir_sl</span> <span class="op">&lt;-</span> <span class="va">iris_sub</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html">filter</a></span><span class="op">(</span><span class="va">Species</span> <span class="op">==</span> <span class="st">"virginica"</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html">select</a></span><span class="op">(</span><span class="va">Sepal.Length</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html">print</a></span><span class="op">(</span><span class="va">df_vir_sl</span><span class="op">)</span></span></code></pre></div>
<pre><code>## # A tibble: 3 × 1
##   Sepal.Length
##          &lt;dbl&gt;
## 1          6.3
## 2          5.7
## 3          6.7</code></pre>
</div>
<div id="exercise-5" class="section level3" number="5.3.2">
<h3>
<span class="header-section-number">5.3.2</span> Exercise<a class="anchor" aria-label="anchor" href="#exercise-5"><i class="fas fa-link"></i></a>
</h3>
<p>Subset <code>iris_sub</code> by <code>Species</code> column (choose only <code>"setosa"</code> ) and add a new column <code>pw_two_times</code> by doubling values in column <code>Petal.Width</code>. Assign the resultant dataframe to <code>iris_pipe</code>. <strong>USE pipe <code>%&gt;%</code> in this operation.</strong></p>
</div>
</div>
<div id="group-operation" class="section level2" number="5.4">
<h2>
<span class="header-section-number">5.4</span> Group Operation<a class="anchor" aria-label="anchor" href="#group-operation"><i class="fas fa-link"></i></a>
</h2>
<div id="grouping-group_by" class="section level3" number="5.4.1">
<h3>
<span class="header-section-number">5.4.1</span> Grouping <code>group_by()</code><a class="anchor" aria-label="anchor" href="#grouping-group_by"><i class="fas fa-link"></i></a>
</h3>
<p>Often, we may want to calculate summary statistics by group. In such cases, the <code><a href="https://dplyr.tidyverse.org/reference/group_by.html">group_by()</a></code> function in R provides an effective way to group the data before applying summary functions.</p>
<p>In the original <code>iris_sub</code> dataframe, no group structure is imposed, meaning that when you print the dataframe, it does not display any information about grouping.</p>
<div class="sourceCode" id="cb167"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/print.html">print</a></span><span class="op">(</span><span class="va">iris_sub</span><span class="op">)</span></span></code></pre></div>
<pre><code>## # A tibble: 9 × 5
##   Sepal.Length Sepal.Width Petal.Length Petal.Width Species   
##          &lt;dbl&gt;       &lt;dbl&gt;        &lt;dbl&gt;       &lt;dbl&gt; &lt;fct&gt;     
## 1          4.8         3.1          1.6         0.2 setosa    
## 2          5.8         4            1.2         0.2 setosa    
## 3          4.3         3            1.1         0.1 setosa    
## 4          6.9         3.1          4.9         1.5 versicolor
## 5          6.1         3            4.6         1.4 versicolor
## 6          5.8         2.6          4           1.2 versicolor
## 7          6.3         3.4          5.6         2.4 virginica 
## 8          5.7         2.5          5           2   virginica 
## 9          6.7         3.3          5.7         2.1 virginica</code></pre>
<p>Now, let’s add a group structure to the dataframe. The following code groups the data based on the values in the <code>Species</code> column:</p>
<div class="sourceCode" id="cb169"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">iris_sub</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html">group_by</a></span><span class="op">(</span><span class="va">Species</span><span class="op">)</span></span></code></pre></div>
<pre><code>## # A tibble: 9 × 5
## # Groups:   Species [3]
##   Sepal.Length Sepal.Width Petal.Length Petal.Width Species   
##          &lt;dbl&gt;       &lt;dbl&gt;        &lt;dbl&gt;       &lt;dbl&gt; &lt;fct&gt;     
## 1          4.8         3.1          1.6         0.2 setosa    
## 2          5.8         4            1.2         0.2 setosa    
## 3          4.3         3            1.1         0.1 setosa    
## 4          6.9         3.1          4.9         1.5 versicolor
## 5          6.1         3            4.6         1.4 versicolor
## 6          5.8         2.6          4           1.2 versicolor
## 7          6.3         3.4          5.6         2.4 virginica 
## 8          5.7         2.5          5           2   virginica 
## 9          6.7         3.3          5.7         2.1 virginica</code></pre>
<p>The dataframe itself remains unchanged, but you’ll notice additional text at the top, indicating <code>Groups: Species[3]</code>. This means that the dataframe now contains three groups, as defined by the unique values in the <code>Species</code> column.</p>
</div>
<div id="summarize-with-summarize" class="section level3" number="5.4.2">
<h3>
<span class="header-section-number">5.4.2</span> Summarize with <code>summarize()</code><a class="anchor" aria-label="anchor" href="#summarize-with-summarize"><i class="fas fa-link"></i></a>
</h3>
<p>The <code><a href="https://dplyr.tidyverse.org/reference/group_by.html">group_by()</a></code> function becomes especially useful when combined with functions like <code><a href="https://dplyr.tidyverse.org/reference/summarise.html">summarize()</a></code> or <code><a href="https://dplyr.tidyverse.org/reference/mutate.html">mutate()</a></code>. For instance, to calculate the mean values for each species in the <code>iris_sub</code> dataframe, you can use the following code:</p>
<div class="sourceCode" id="cb171"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">iris_sub</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html">group_by</a></span><span class="op">(</span><span class="va">Species</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/summarise.html">summarize</a></span><span class="op">(</span>mu_sl <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/mean.html">mean</a></span><span class="op">(</span><span class="va">Sepal.Length</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<pre><code>## # A tibble: 3 × 2
##   Species    mu_sl
##   &lt;fct&gt;      &lt;dbl&gt;
## 1 setosa      4.97
## 2 versicolor  6.27
## 3 virginica   6.23</code></pre>
<p>If you want to calculate multiple summary statistics, you can separate the operations with a comma <code>,</code> as shown below:</p>
<div class="sourceCode" id="cb173"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">iris_sub</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html">group_by</a></span><span class="op">(</span><span class="va">Species</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/summarise.html">summarize</a></span><span class="op">(</span>mu_sl <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/mean.html">mean</a></span><span class="op">(</span><span class="va">Sepal.Length</span><span class="op">)</span>,</span>
<span>            sum_sl <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/sum.html">sum</a></span><span class="op">(</span><span class="va">Sepal.Length</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<pre><code>## # A tibble: 3 × 3
##   Species    mu_sl sum_sl
##   &lt;fct&gt;      &lt;dbl&gt;  &lt;dbl&gt;
## 1 setosa      4.97   14.9
## 2 versicolor  6.27   18.8
## 3 virginica   6.23   18.7</code></pre>
</div>
<div id="summarize-with-mutate" class="section level3" number="5.4.3">
<h3>
<span class="header-section-number">5.4.3</span> Summarize with <code>mutate()</code><a class="anchor" aria-label="anchor" href="#summarize-with-mutate"><i class="fas fa-link"></i></a>
</h3>
<p>The <code><a href="https://dplyr.tidyverse.org/reference/summarise.html">summarize()</a></code> function returns a summary table, with each group represented by a single row. On the other hand, <code><a href="https://dplyr.tidyverse.org/reference/mutate.html">mutate()</a></code> retains the original individual rows, adding summary columns. In this case, each row within the same group will have the same summary value. Remember to use <code><a href="https://dplyr.tidyverse.org/reference/group_by.html">ungroup()</a></code> after grouping operations to prevent errors in subsequent operations.</p>
<div class="sourceCode" id="cb175"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># grouping by "Species", then take means "Speal.Length" for each species</span></span>
<span><span class="va">iris_sub</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html">group_by</a></span><span class="op">(</span><span class="va">Species</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html">mutate</a></span><span class="op">(</span>mu_sl <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/mean.html">mean</a></span><span class="op">(</span><span class="va">Sepal.Length</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html">ungroup</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<pre><code>## # A tibble: 9 × 6
##   Sepal.Length Sepal.Width Petal.Length Petal.Width Species    mu_sl
##          &lt;dbl&gt;       &lt;dbl&gt;        &lt;dbl&gt;       &lt;dbl&gt; &lt;fct&gt;      &lt;dbl&gt;
## 1          4.8         3.1          1.6         0.2 setosa      4.97
## 2          5.8         4            1.2         0.2 setosa      4.97
## 3          4.3         3            1.1         0.1 setosa      4.97
## 4          6.9         3.1          4.9         1.5 versicolor  6.27
## 5          6.1         3            4.6         1.4 versicolor  6.27
## 6          5.8         2.6          4           1.2 versicolor  6.27
## 7          6.3         3.4          5.6         2.4 virginica   6.23
## 8          5.7         2.5          5           2   virginica   6.23
## 9          6.7         3.3          5.7         2.1 virginica   6.23</code></pre>
</div>
</div>
<div id="reshape" class="section level2" number="5.5">
<h2>
<span class="header-section-number">5.5</span> Reshape<a class="anchor" aria-label="anchor" href="#reshape"><i class="fas fa-link"></i></a>
</h2>
<p><code><a href="https://tidyr.tidyverse.org/reference/pivot_wider.html">pivot_wider()</a></code> : reshape a data frame to a wide format</p>
<div class="sourceCode" id="cb177"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">iris_w</span> <span class="op">&lt;-</span> <span class="va">iris</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html">mutate</a></span><span class="op">(</span>id <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/rep.html">rep</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">50</span>, <span class="fl">3</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> <span class="co"># add an ID column</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html">select</a></span><span class="op">(</span><span class="va">id</span>, <span class="va">Sepal.Length</span>, <span class="va">Species</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://tidyr.tidyverse.org/reference/pivot_wider.html">pivot_wider</a></span><span class="op">(</span>id_cols <span class="op">=</span> <span class="st">"id"</span>, <span class="co"># unique row ID based on</span></span>
<span>              values_from <span class="op">=</span> <span class="st">"Sepal.Length"</span>, <span class="co"># values in each cell from</span></span>
<span>              names_from <span class="op">=</span> <span class="st">"Species"</span><span class="op">)</span> <span class="co"># new column names from</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html">print</a></span><span class="op">(</span><span class="va">iris_w</span><span class="op">)</span></span></code></pre></div>
<pre><code>## # A tibble: 50 × 4
##       id setosa versicolor virginica
##    &lt;int&gt;  &lt;dbl&gt;      &lt;dbl&gt;     &lt;dbl&gt;
##  1     1    5.1        7         6.3
##  2     2    4.9        6.4       5.8
##  3     3    4.7        6.9       7.1
##  4     4    4.6        5.5       6.3
##  5     5    5          6.5       6.5
##  6     6    5.4        5.7       7.6
##  7     7    4.6        6.3       4.9
##  8     8    5          4.9       7.3
##  9     9    4.4        6.6       6.7
## 10    10    4.9        5.2       7.2
## # ℹ 40 more rows</code></pre>
<p><code><a href="https://tidyr.tidyverse.org/reference/pivot_longer.html">pivot_longer()</a></code>: reshape a data frame to a long format</p>
<div class="sourceCode" id="cb179"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">iris_l</span> <span class="op">&lt;-</span> <span class="va">iris_w</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://tidyr.tidyverse.org/reference/pivot_longer.html">pivot_longer</a></span><span class="op">(</span>cols <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"setosa"</span>,</span>
<span>                        <span class="st">"versicolor"</span>,</span>
<span>                        <span class="st">"virginica"</span><span class="op">)</span>, <span class="co"># columns with values to be reshaped</span></span>
<span>               names_to <span class="op">=</span> <span class="st">"Species"</span>, <span class="co"># column IDs move to "Species"</span></span>
<span>               values_to <span class="op">=</span> <span class="st">"Sepal.Length"</span><span class="op">)</span> <span class="co"># column values move to "Sepal.Length"</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html">print</a></span><span class="op">(</span><span class="va">iris_l</span><span class="op">)</span></span></code></pre></div>
<pre><code>## # A tibble: 150 × 3
##       id Species    Sepal.Length
##    &lt;int&gt; &lt;chr&gt;             &lt;dbl&gt;
##  1     1 setosa              5.1
##  2     1 versicolor          7  
##  3     1 virginica           6.3
##  4     2 setosa              4.9
##  5     2 versicolor          6.4
##  6     2 virginica           5.8
##  7     3 setosa              4.7
##  8     3 versicolor          6.9
##  9     3 virginica           7.1
## 10     4 setosa              4.6
## # ℹ 140 more rows</code></pre>
</div>
<div id="join" class="section level2" number="5.6">
<h2>
<span class="header-section-number">5.6</span> Join<a class="anchor" aria-label="anchor" href="#join"><i class="fas fa-link"></i></a>
</h2>
<p><code><a href="https://dplyr.tidyverse.org/reference/mutate-joins.html">left_join()</a></code>: merge data frames based on column(s)</p>
<div class="sourceCode" id="cb181"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># matching by a single column</span></span>
<span><span class="co">## left join by "Species": one to one</span></span>
<span><span class="va">df1</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://tibble.tidyverse.org/reference/tibble.html">tibble</a></span><span class="op">(</span>Species <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"A"</span>, <span class="st">"B"</span>, <span class="st">"C"</span><span class="op">)</span>,</span>
<span>              x <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">2</span>, <span class="fl">3</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="va">df2</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://tibble.tidyverse.org/reference/tibble.html">tibble</a></span><span class="op">(</span>Species <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"A"</span>, <span class="st">"B"</span>, <span class="st">"C"</span><span class="op">)</span>,</span>
<span>              y <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">4</span>, <span class="fl">5</span>, <span class="fl">6</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate-joins.html">left_join</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">df1</span>,</span>
<span>          y <span class="op">=</span> <span class="va">df2</span>,</span>
<span>          by <span class="op">=</span> <span class="st">"Species"</span><span class="op">)</span></span></code></pre></div>
<pre><code>## # A tibble: 3 × 3
##   Species     x     y
##   &lt;chr&gt;   &lt;dbl&gt; &lt;dbl&gt;
## 1 A           1     4
## 2 B           2     5
## 3 C           3     6</code></pre>
<div class="sourceCode" id="cb183"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># matching by a single column</span></span>
<span><span class="co">## left join by "Species": one to many</span></span>
<span><span class="va">df3</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://tibble.tidyverse.org/reference/tibble.html">tibble</a></span><span class="op">(</span>Species <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"A"</span>, <span class="st">"A"</span>, <span class="st">"B"</span>, <span class="st">"C"</span><span class="op">)</span>,</span>
<span>              y <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">4</span>, <span class="fl">5</span>, <span class="fl">6</span>, <span class="fl">7</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate-joins.html">left_join</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">df1</span>,</span>
<span>          y <span class="op">=</span> <span class="va">df3</span>,</span>
<span>          by <span class="op">=</span> <span class="st">"Species"</span><span class="op">)</span></span></code></pre></div>
<pre><code>## # A tibble: 4 × 3
##   Species     x     y
##   &lt;chr&gt;   &lt;dbl&gt; &lt;dbl&gt;
## 1 A           1     4
## 2 A           1     5
## 3 B           2     6
## 4 C           3     7</code></pre>
<div class="sourceCode" id="cb185"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># matching by a single column</span></span>
<span><span class="co">## left join by "Species": one to missing</span></span>
<span><span class="va">df4</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://tibble.tidyverse.org/reference/tibble.html">tibble</a></span><span class="op">(</span>Species <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"A"</span>, <span class="st">"A"</span>, <span class="st">"C"</span><span class="op">)</span>,</span>
<span>              y <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">4</span>, <span class="fl">5</span>, <span class="fl">7</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate-joins.html">left_join</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">df1</span>,</span>
<span>          y <span class="op">=</span> <span class="va">df4</span>,</span>
<span>          by <span class="op">=</span> <span class="st">"Species"</span><span class="op">)</span></span></code></pre></div>
<pre><code>## # A tibble: 4 × 3
##   Species     x     y
##   &lt;chr&gt;   &lt;dbl&gt; &lt;dbl&gt;
## 1 A           1     4
## 2 A           1     5
## 3 B           2    NA
## 4 C           3     7</code></pre>
<div class="sourceCode" id="cb187"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># matching by multiple columns</span></span>
<span><span class="co">## one to one</span></span>
<span><span class="va">df5</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://tibble.tidyverse.org/reference/tibble.html">tibble</a></span><span class="op">(</span>Species <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"A"</span>, <span class="st">"B"</span>, <span class="st">"C"</span><span class="op">)</span>,</span>
<span>              x <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">2</span>, <span class="fl">3</span><span class="op">)</span>,</span>
<span>              z <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"cool"</span>, <span class="st">"awesome"</span>, <span class="st">"magical"</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate-joins.html">left_join</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">df1</span>,</span>
<span>          y <span class="op">=</span> <span class="va">df5</span>,</span>
<span>          by <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"Species"</span>, <span class="st">"x"</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<pre><code>## # A tibble: 3 × 3
##   Species     x z      
##   &lt;chr&gt;   &lt;dbl&gt; &lt;chr&gt;  
## 1 A           1 cool   
## 2 B           2 awesome
## 3 C           3 magical</code></pre>
<div class="sourceCode" id="cb189"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># matching by multiple columns</span></span>
<span><span class="co">## one to many</span></span>
<span><span class="va">df6</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://tibble.tidyverse.org/reference/tibble.html">tibble</a></span><span class="op">(</span>Species <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"A"</span>, <span class="st">"A"</span>, <span class="st">"B"</span>, <span class="st">"C"</span><span class="op">)</span>,</span>
<span>              x <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">1</span>, <span class="fl">2</span>, <span class="fl">3</span><span class="op">)</span>,</span>
<span>              z <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"cool"</span>, <span class="st">"cool"</span>, <span class="st">"awesome"</span>, <span class="st">"magical"</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate-joins.html">left_join</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">df1</span>,</span>
<span>          y <span class="op">=</span> <span class="va">df6</span>,</span>
<span>          by <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"Species"</span>, <span class="st">"x"</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<pre><code>## # A tibble: 4 × 3
##   Species     x z      
##   &lt;chr&gt;   &lt;dbl&gt; &lt;chr&gt;  
## 1 A           1 cool   
## 2 A           1 cool   
## 3 B           2 awesome
## 4 C           3 magical</code></pre>
<div class="sourceCode" id="cb191"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># matching by multiple columns</span></span>
<span><span class="co">## one to missing</span></span>
<span><span class="va">df6</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://tibble.tidyverse.org/reference/tibble.html">tibble</a></span><span class="op">(</span>Species <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"A"</span>, <span class="st">"B"</span>, <span class="st">"C"</span><span class="op">)</span>,</span>
<span>              x <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">2</span>, <span class="fl">4</span><span class="op">)</span>,</span>
<span>              z <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"cool"</span>, <span class="st">"awesome"</span>, <span class="st">"magical"</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate-joins.html">left_join</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">df1</span>,</span>
<span>          y <span class="op">=</span> <span class="va">df6</span>,</span>
<span>          by <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"Species"</span>, <span class="st">"x"</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<pre><code>## # A tibble: 3 × 3
##   Species     x z      
##   &lt;chr&gt;   &lt;dbl&gt; &lt;chr&gt;  
## 1 A           1 cool   
## 2 B           2 awesome
## 3 C           3 &lt;NA&gt;</code></pre>
</div>
</div>
  <div class="chapter-nav">
<div class="prev"><a href="data-structure.html"><span class="header-section-number">4</span> Data Structure</a></div>
<div class="next"><a href="visualization.html"><span class="header-section-number">6</span> Visualization</a></div>
</div></main><div class="col-md-3 col-lg-2 d-none d-md-block sidebar sidebar-chapter">
    <nav id="toc" data-toggle="toc" aria-label="On this page"><h2>On this page</h2>
      <ul class="nav navbar-nav">
<li><a class="nav-link" href="#data-manipulation"><span class="header-section-number">5</span> Data Manipulation</a></li>
<li>
<a class="nav-link" href="#row-manipulation"><span class="header-section-number">5.1</span> Row Manipulation</a><ul class="nav navbar-nav">
<li><a class="nav-link" href="#subset-rows"><span class="header-section-number">5.1.1</span> Subset rows</a></li>
<li><a class="nav-link" href="#arrange-rows"><span class="header-section-number">5.1.2</span> Arrange rows</a></li>
<li><a class="nav-link" href="#exercise-3"><span class="header-section-number">5.1.3</span> Exercise</a></li>
</ul>
</li>
<li>
<a class="nav-link" href="#column-manipulation"><span class="header-section-number">5.2</span> Column Manipulation</a><ul class="nav navbar-nav">
<li><a class="nav-link" href="#select-columns"><span class="header-section-number">5.2.1</span> Select columns</a></li>
<li><a class="nav-link" href="#add-columns"><span class="header-section-number">5.2.2</span> Add columns</a></li>
<li><a class="nav-link" href="#exercise-4"><span class="header-section-number">5.2.3</span> Exercise</a></li>
</ul>
</li>
<li>
<a class="nav-link" href="#piping"><span class="header-section-number">5.3</span> Piping</a><ul class="nav navbar-nav">
<li><a class="nav-link" href="#pipe"><span class="header-section-number">5.3.1</span> Pipe %&gt;%</a></li>
<li><a class="nav-link" href="#exercise-5"><span class="header-section-number">5.3.2</span> Exercise</a></li>
</ul>
</li>
<li>
<a class="nav-link" href="#group-operation"><span class="header-section-number">5.4</span> Group Operation</a><ul class="nav navbar-nav">
<li><a class="nav-link" href="#grouping-group_by"><span class="header-section-number">5.4.1</span> Grouping group_by()</a></li>
<li><a class="nav-link" href="#summarize-with-summarize"><span class="header-section-number">5.4.2</span> Summarize with summarize()</a></li>
<li><a class="nav-link" href="#summarize-with-mutate"><span class="header-section-number">5.4.3</span> Summarize with mutate()</a></li>
</ul>
</li>
<li><a class="nav-link" href="#reshape"><span class="header-section-number">5.5</span> Reshape</a></li>
<li><a class="nav-link" href="#join"><span class="header-section-number">5.6</span> Join</a></li>
</ul>

      <div class="book-extra">
        <ul class="list-unstyled">
<li><a id="book-source" href="https://github.com/aterui/biostats/blob/master/chapters/gs-02-r-basics.Rmd">View source <i class="fab fa-github"></i></a></li>
          <li><a id="book-edit" href="https://github.com/aterui/biostats/edit/master/chapters/gs-02-r-basics.Rmd">Edit this page <i class="fab fa-github"></i></a></li>
        </ul>
</div>
    </nav>
</div>

</div>
</div> <!-- .container -->

<footer class="bg-primary text-light mt-5"><div class="container"><div class="row">

  <div class="col-12 col-md-6 mt-3">
    <p>"<strong>BIOSTATS</strong>" was written by Akira Terui. It was last built on 2025-07-17.</p>
  </div>

  <div class="col-12 col-md-6 mt-3">
    <p>This book was built by the <a class="text-light" href="https://bookdown.org">bookdown</a> R package.</p>
  </div>

</div></div>
</footer><!-- dynamically load mathjax for compatibility with self-contained --><script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.9/latest.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script><script type="text/x-mathjax-config">const popovers = document.querySelectorAll('a.footnote-ref[data-toggle="popover"]');
for (let popover of popovers) {
  const div = document.createElement('div');
  div.setAttribute('style', 'position: absolute; top: 0, left:0; width:0, height:0, overflow: hidden; visibility: hidden;');
  div.innerHTML = popover.getAttribute('data-content');

  var has_math = div.querySelector("span.math");
  if (has_math) {
    document.body.appendChild(div);
    MathJax.Hub.Queue(["Typeset", MathJax.Hub, div]);
    MathJax.Hub.Queue(function() {
      popover.setAttribute('data-content', div.innerHTML);
      document.body.removeChild(div);
    })
  }
}
</script>
</body>
</html>
